# ====================
# REQUIRED CONFIGURATION
# ====================

# Database Configuration (Required)
DATABASE_URL="postgresql://user:password@localhost:5432/nexustrade"
POSTGRES_PRISMA_URL="postgresql://user:password@localhost:5432/nexustrade"
# For Vercel/Neon: DATABASE_URL="postgresql://user:password@host/database?sslmode=require"

# NextAuth Configuration (Required)
NEXTAUTH_SECRET="generate-with-openssl-rand-base64-32"
NEXTAUTH_URL="https://yourdomain.vercel.app" # Change in production

# OAuth Providers (Optional)
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""

# AI Integration (Optional)
OPENROUTER_API_KEY=""
OPENROUTER_BASE_URL="https://openrouter.ai/api/v1"

# Market Data Services (Optional)
TWELVEDATA_API_KEY=""
YAHOO_FINANCE_API_KEY=""
YAHOO_FINANCE_RAPIDAPI_HOST="yahoo-finance166.p.rapidapi.com"

# Cache Configuration (Recommended for Production)
UPSTASH_REDIS_REST_URL=""
UPSTASH_REDIS_REST_TOKEN=""
REDIS_URL=""
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_PASSWORD=""

# Payment Processing (Optional)
STRIPE_SECRET_KEY=""
STRIPE_PUBLISHABLE_KEY=""
STRIPE_WEBHOOK_SECRET=""
MIDTRANS_SERVER_KEY=""
MIDTRANS_CLIENT_KEY=""

# External Services (Optional)
SENTRY_DSN=""
DATADOG_API_KEY=""

# Email Service (Optional)
RESEND_API_KEY=""
FROM_EMAIL="noreply@nexustrade.com"

# API Configuration
API_RATE_LIMIT_WINDOW_MS=60000
API_RATE_LIMIT_MAX_REQUESTS=100
JWT_SECRET="your-jwt-secret-key"
JWT_EXPIRY="15m"
REFRESH_TOKEN_EXPIRY="30d"

# Feature Flags
ENABLE_AI_FEATURES="false"
ENABLE_MOBILE_APP="false"
BETA_MODE="true"

# ====================
# REALTIME CONFIGURATION (Choose One for Vercel)
# ====================

# Option 1: Pusher (Recommended for Vercel)
PUSHER_APP_ID=""
NEXT_PUBLIC_PUSHER_KEY=""
PUSHER_SECRET=""
NEXT_PUBLIC_PUSHER_CLUSTER=""

# Option 2: Ably
ABLY_API_KEY=""

# Option 3: Supabase Realtime
NEXT_PUBLIC_SUPABASE_URL=""
NEXT_PUBLIC_SUPABASE_ANON_KEY=""

# Option 4: WebSocket (Not supported on Vercel)
WS_PORT="8080"
ENABLE_WEBSOCKET_FALLBACK="false"

# ====================
# SECURITY CONFIGURATION
# ====================

# CORS Settings
ALLOWED_ORIGINS="https://yourdomain.vercel.app,http://localhost:3000"
IP_WHITELIST="" # Comma-separated IPs, leave empty to allow all

# Security Keys
JWT_EXPIRY="15m"
REFRESH_TOKEN_EXPIRY="30d"

# Encryption Keys (Generate with: openssl rand -base64 32)
ENCRYPTION_KEY="" # For encrypting sensitive data
API_KEY_ENCRYPTION_KEY="" # For encrypting API keys in database

# 2FA Configuration
TOTP_SECRET="" # Master secret for TOTP generation
TOTP_ISSUER="NexusTrade" # Issuer name for TOTP

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=5
TRADING_RATE_LIMIT_MAX_REQUESTS=20
API_RATE_LIMIT_MAX_REQUESTS=1000

# Session Management
SESSION_MAX_AGE=86400 # 24 hours in seconds
SESSION_SECRET="" # Additional secret for session signing

# Security Headers
ENABLE_HELMET_MIDDLEWARE="true"
ENABLE_CSP="true"
CSP_NONCE_GENERATION="true"

# Email/SMS for Trade Confirmations
TRADE_CONFIRMATION_EMAIL_ENABLED="true"
TRADE_CONFIRMATION_SMS_ENABLED="false"
LARGE_TRADE_THRESHOLD=10000 # USD value threshold for additional confirmation

# Security Monitoring
SECURITY_ALERT_EMAIL="security@nexustrade.com"
FAILED_LOGIN_ALERT_THRESHOLD=5
SECURITY_EVENT_WEBHOOK_URL=""

# Password Policy
MIN_PASSWORD_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE="true"
PASSWORD_REQUIRE_LOWERCASE="true"
PASSWORD_REQUIRE_NUMBERS="true"
PASSWORD_REQUIRE_SYMBOLS="true"
PASSWORD_MAX_AGE_DAYS=90

# ====================
# ENVIRONMENT SETTINGS
# ====================

# Environment
NODE_ENV="development"
LOG_LEVEL="debug"
NEXT_PUBLIC_ENV="development"
